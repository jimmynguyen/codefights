import java.util.Arrays;
import java.util.HashSet;
import java.util.Set;
import java.util.stream.IntStream;

public class ChessQueen {
	public static void main(String[] args) {
		String[] input0 = new String[] {"d4", "a1", "a2", "a3", "a4", "a5", "a6", "a7", "a8", "b1", "b2", "b3", "b4", "b5", "b6", "b7", "b8", "c1", "c8", "d1", "d2", "d3", "d5", "d6", "d7", "d8", "f4", "f5", "f6", "f7", "f8", "g1"};
		String[][] expectedOutput = new String[][] {{"a2", "a3", "a5", "a6", "a8", "b1", "b3", "b5", "b7", "b8", "c1", "c2", "c6", "c7", "c8", "e1", "e2", "e6", "e7", "e8", "f1", "f3", "f5", "f7", "f8", "g2", "g3", "g5", "g6", "g8", "h1", "h2", "h3", "h5", "h6", "h7"}, {"b3", "b4", "b5", "b6", "b7", "b8", "c2", "c4", "c5", "c6", "c7", "c8", "d2", "d3", "d5", "d6", "d7", "d8", "e2", "e3", "e4", "e6", "e7", "e8", "f2", "f3", "f4", "f5", "f7", "f8", "g2", "g3", "g4", "g5", "g6", "g8", "h2", "h3", "h4", "h5", "h6", "h7"}, {"b4", "b5", "b6", "b7", "b8", "c1", "c3", "c5", "c6", "c7", "c8", "d1", "d3", "d4", "d6", "d7", "d8", "e1", "e3", "e4", "e5", "e7", "e8", "f1", "f3", "f4", "f5", "f6", "f8", "g1", "g3", "g4", "g5", "g6", "g7", "h1", "h3", "h4", "h5", "h6", "h7", "h8"}, {"b1", "b5", "b6", "b7", "b8", "c2", "c4", "c6", "c7", "c8", "d1", "d2", "d4", "d5", "d7", "d8", "e1", "e2", "e4", "e5", "e6", "e8", "f1", "f2", "f4", "f5", "f6", "f7", "g1", "g2", "g4", "g5", "g6", "g7", "g8", "h1", "h2", "h4", "h5", "h6", "h7", "h8"}, {"b1", "b2", "b6", "b7", "b8", "c1", "c3", "c5", "c7", "c8", "d2", "d3", "d5", "d6", "d8", "e1", "e2", "e3", "e5", "e6", "e7", "f1", "f2", "f3", "f5", "f6", "f7", "f8", "g1", "g2", "g3", "g5", "g6", "g7", "g8", "h1", "h2", "h3", "h5", "h6", "h7", "h8"}, {"b1", "b2", "b3", "b7", "b8", "c1", "c2", "c4", "c6", "c8", "d1", "d3", "d4", "d6", "d7", "e2", "e3", "e4", "e6", "e7", "e8", "f1", "f2", "f3", "f4", "f6", "f7", "f8", "g1", "g2", "g3", "g4", "g6", "g7", "g8", "h1", "h2", "h3", "h4", "h6", "h7", "h8"}, {"b1", "b2", "b3", "b4", "b8", "c1", "c2", "c3", "c5", "c7", "d1", "d2", "d4", "d5", "d7", "d8", "e1", "e3", "e4", "e5", "e7", "e8", "f2", "f3", "f4", "f5", "f7", "f8", "g1", "g2", "g3", "g4", "g5", "g7", "g8", "h1", "h2", "h3", "h4", "h5", "h7", "h8"}, {"b1", "b2", "b3", "b4", "b5", "c1", "c2", "c3", "c4", "c6", "c8", "d1", "d2", "d3", "d5", "d6", "d8", "e1", "e2", "e4", "e5", "e6", "e8", "f1", "f3", "f4", "f5", "f6", "f8", "g2", "g3", "g4", "g5", "g6", "g8", "h1", "h2", "h3", "h4", "h5", "h6", "h8"}, {"b1", "b2", "b3", "b4", "b5", "b6", "c1", "c2", "c3", "c4", "c5", "c7", "d1", "d2", "d3", "d4", "d6", "d7", "e1", "e2", "e3", "e5", "e6", "e7", "f1", "f2", "f4", "f5", "f6", "f7", "g1", "g3", "g4", "g5", "g6", "g7", "h2", "h3", "h4", "h5", "h6", "h7"}, {"a3", "a4", "a5", "a6", "a7", "a8", "c3", "c4", "c5", "c6", "c7", "c8", "d2", "d4", "d5", "d6", "d7", "d8", "e2", "e3", "e5", "e6", "e7", "e8", "f2", "f3", "f4", "f6", "f7", "f8", "g2", "g3", "g4", "g5", "g7", "g8", "h2", "h3", "h4", "h5", "h6", "h8"}, {"a4", "a5", "a6", "a7", "a8", "c4", "c5", "c6", "c7", "c8", "d1", "d3", "d5", "d6", "d7", "d8", "e1", "e3", "e4", "e6", "e7", "e8", "f1", "f3", "f4", "f5", "f7", "f8", "g1", "g3", "g4", "g5", "g6", "g8", "h1", "h3", "h4", "h5", "h6", "h7"}, {"a1", "a5", "a6", "a7", "a8", "c1", "c5", "c6", "c7", "c8", "d2", "d4", "d6", "d7", "d8", "e1", "e2", "e4", "e5", "e7", "e8", "f1", "f2", "f4", "f5", "f6", "f8", "g1", "g2", "g4", "g5", "g6", "g7", "h1", "h2", "h4", "h5", "h6", "h7", "h8"}, {"a1", "a2", "a6", "a7", "a8", "c1", "c2", "c6", "c7", "c8", "d1", "d3", "d5", "d7", "d8", "e2", "e3", "e5", "e6", "e8", "f1", "f2", "f3", "f5", "f6", "f7", "g1", "g2", "g3", "g5", "g6", "g7", "g8", "h1", "h2", "h3", "h5", "h6", "h7", "h8"}, {"a1", "a2", "a3", "a7", "a8", "c1", "c2", "c3", "c7", "c8", "d1", "d2", "d4", "d6", "d8", "e1", "e3", "e4", "e6", "e7", "f2", "f3", "f4", "f6", "f7", "f8", "g1", "g2", "g3", "g4", "g6", "g7", "g8", "h1", "h2", "h3", "h4", "h6", "h7", "h8"}, {"a1", "a2", "a3", "a4", "a8", "c1", "c2", "c3", "c4", "c8", "d1", "d2", "d3", "d5", "d7", "e1", "e2", "e4", "e5", "e7", "e8", "f1", "f3", "f4", "f5", "f7", "f8", "g2", "g3", "g4", "g5", "g7", "g8", "h1", "h2", "h3", "h4", "h5", "h7", "h8"}, {"a1", "a2", "a3", "a4", "a5", "c1", "c2", "c3", "c4", "c5", "d1", "d2", "d3", "d4", "d6", "d8", "e1", "e2", "e3", "e5", "e6", "e8", "f1", "f2", "f4", "f5", "f6", "f8", "g1", "g3", "g4", "g5", "g6", "g8", "h2", "h3", "h4", "h5", "h6", "h8"}, {"a1", "a2", "a3", "a4", "a5", "a6", "c1", "c2", "c3", "c4", "c5", "c6", "d1", "d2", "d3", "d4", "d5", "d7", "e1", "e2", "e3", "e4", "e6", "e7", "f1", "f2", "f3", "f5", "f6", "f7", "g1", "g2", "g4", "g5", "g6", "g7", "h1", "h3", "h4", "h5", "h6", "h7"}, {"a2", "a4", "a5", "a6", "a7", "a8", "b3", "b4", "b5", "b6", "b7", "b8", "d3", "d4", "d5", "d6", "d7", "d8", "e2", "e4", "e5", "e6", "e7", "e8", "f2", "f3", "f5", "f6", "f7", "f8", "g2", "g3", "g4", "g6", "g7", "g8", "h2", "h3", "h4", "h5", "h7", "h8"}, {"a1", "a2", "a3", "a4", "a5", "a7", "b1", "b2", "b3", "b4", "b5", "b6", "d1", "d2", "d3", "d4", "d5", "d6", "e1", "e2", "e3", "e4", "e5", "e7", "f1", "f2", "f3", "f4", "f6", "f7", "g1", "g2", "g3", "g5", "g6", "g7", "h1", "h2", "h4", "h5", "h6", "h7"}, {"a2", "a3", "a5", "a6", "a7", "a8", "b2", "b4", "b5", "b6", "b7", "b8", "c3", "c4", "c5", "c6", "c7", "c8", "e3", "e4", "e5", "e6", "e7", "e8", "f2", "f4", "f5", "f6", "f7", "f8", "g2", "g3", "g5", "g6", "g7", "g8", "h2", "h3", "h4", "h6", "h7", "h8"}, {"a1", "a3", "a4", "a6", "a7", "a8", "b1", "b3", "b5", "b6", "b7", "b8", "c4", "c5", "c6", "c7", "c8", "e4", "e5", "e6", "e7", "e8", "f1", "f3", "f5", "f6", "f7", "f8", "g1", "g3", "g4", "g6", "g7", "g8", "h1", "h3", "h4", "h5", "h7", "h8"}, {"a1", "a2", "a4", "a5", "a7", "a8", "b2", "b4", "b6", "b7", "b8", "c1", "c5", "c6", "c7", "c8", "e1", "e5", "e6", "e7", "e8", "f2", "f4", "f6", "f7", "f8", "g1", "g2", "g4", "g5", "g7", "g8", "h1", "h2", "h4", "h5", "h6", "h8"}, {"a1", "a3", "a4", "a6", "a7", "b1", "b2", "b4", "b6", "b8", "c1", "c2", "c3", "c7", "c8", "e1", "e2", "e3", "e7", "e8", "f1", "f2", "f4", "f6", "f8", "g1", "g3", "g4", "g6", "g7", "h2", "h3", "h4", "h6", "h7", "h8"}, {"a1", "a2", "a4", "a5", "a7", "a8", "b1", "b2", "b3", "b5", "b7", "c1", "c2", "c3", "c4", "c8", "e1", "e2", "e3", "e4", "e8", "f1", "f2", "f3", "f5", "f7", "g1", "g2", "g4", "g5", "g7", "g8", "h1", "h3", "h4", "h5", "h7", "h8"}, {"a1", "a2", "a3", "a5", "a6", "a8", "b1", "b2", "b3", "b4", "b6", "b8", "c1", "c2", "c3", "c4", "c5", "e1", "e2", "e3", "e4", "e5", "f1", "f2", "f3", "f4", "f6", "f8", "g1", "g2", "g3", "g5", "g6", "g8", "h1", "h2", "h4", "h5", "h6", "h8"}, {"a1", "a2", "a3", "a4", "a6", "a7", "b1", "b2", "b3", "b4", "b5", "b7", "c1", "c2", "c3", "c4", "c5", "c6", "e1", "e2", "e3", "e4", "e5", "e6", "f1", "f2", "f3", "f4", "f5", "f7", "g1", "g2", "g3", "g4", "g6", "g7", "h1", "h2", "h3", "h5", "h6", "h7"}, {"a1", "a2", "a3", "a5", "a6", "a7", "a8", "b1", "b2", "b3", "b5", "b6", "b7", "c2", "c3", "c5", "c6", "c8", "d1", "d3", "d5", "d7", "d8", "e1", "e2", "e6", "e7", "e8", "g1", "g2", "g6", "g7", "g8", "h1", "h3", "h5", "h7", "h8"}, {"a1", "a2", "a3", "a4", "a6", "a7", "a8", "b2", "b3", "b4", "b6", "b7", "b8", "c1", "c3", "c4", "c6", "c7", "d1", "d2", "d4", "d6", "d8", "e1", "e2", "e3", "e7", "e8", "g1", "g2", "g3", "g7", "g8", "h1", "h2", "h4", "h6", "h8"}, {"a2", "a3", "a4", "a5", "a7", "a8", "b1", "b3", "b4", "b5", "b7", "b8", "c1", "c2", "c4", "c5", "c7", "c8", "d1", "d2", "d3", "d5", "d7", "e1", "e2", "e3", "e4", "e8", "g1", "g2", "g3", "g4", "g8", "h1", "h2", "h3", "h5", "h7"}, {"a1", "a3", "a4", "a5", "a6", "a8", "b1", "b2", "b4", "b5", "b6", "b8", "c1", "c2", "c3", "c5", "c6", "c8", "d1", "d2", "d3", "d4", "d6", "d8", "e1", "e2", "e3", "e4", "e5", "g1", "g2", "g3", "g4", "g5", "h1", "h2", "h3", "h4", "h6", "h8"}, {"a1", "a2", "a4", "a5", "a6", "a7", "b1", "b2", "b3", "b5", "b6", "b7", "c1", "c2", "c3", "c4", "c6", "c7", "d1", "d2", "d3", "d4", "d5", "d7", "e1", "e2", "e3", "e4", "e5", "e6", "g1", "g2", "g3", "g4", "g5", "g6", "h1", "h2", "h3", "h4", "h5", "h7"}, {"a2", "a3", "a4", "a5", "a6", "a8", "b2", "b3", "b4", "b5", "b7", "b8", "c2", "c3", "c4", "c6", "c7", "c8", "d2", "d3", "d5", "d6", "d7", "d8", "e2", "e4", "e5", "e6", "e7", "e8", "f3", "f4", "f5", "f6", "f7", "f8", "h3", "h4", "h5", "h6", "h7", "h8"}};
		assert input0.length == expectedOutput.length : String.format("# input0 = %d, # expectedOutput = %d", input0.length, expectedOutput.length);
		IntStream.range(0, expectedOutput.length).forEach(i -> {
			String[] actualOutput = chessQueen(input0[i]);
			assert Arrays.deepEquals(actualOutput, expectedOutput[i]) : String.format("chessQueen(\"%s\") returned %s, but expected %s", input0[i], Arrays.deepToString(actualOutput), Arrays.deepToString(expectedOutput[i]));
		});
		System.out.println(String.format("PASSES %d out of %d tests", expectedOutput.length, expectedOutput.length));
	}

	public static String[] chessQueen(String q) {
		int x = q.charAt(0)-'a';
		int y = q.charAt(1)-'1';
		Set<String> unsafe = new HashSet<>();
		unsafe.add(q);
		for (int i = 0; i < 8; i++) {
			if (i != x) {
				unsafe.add("" + (char)(i+'a') + q.charAt(1));
			}
			if (i != y) {
				unsafe.add("" + q.charAt(0) + (char)(i+'1'));
			}
			for (int j = 0; j < 8; j++) {
				if (j != y && Math.abs(((double)x-i)/(y-j)) == 1) {
					unsafe.add("" + (char)(i+'a') + (char)(j+'1'));
				}
			}
		}
		String[] safe = new String[64-unsafe.size()];
		String pos;
		for (int i = 0, k = 0; i < 8; i++) {
			for (int j = 0; j < 8; j++) {
				pos = "" + (char)(i+'a') + (char)(j+'1');
				if (!unsafe.contains(pos)) {
					safe[k++] = pos;
				}
			}
		}
		return safe;
	}
}
